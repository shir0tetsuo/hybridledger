<html>
    <body>
        <br><br>
        <div class="container">
            <blockquote style="height: 75px;" class="loginbox">
                <div style="float: left; width: 50%; flex: auto;">
                <form>
                    <!-- DROPDOWN: TYPE OF BLOCK TO MINT (0-6) -->
                    <select id="blockType">
                        <option value="0" disabled>Empty</option>
                        <option value="1" disabled>Genesis</option>
                        <option value="2">Minted</option>
                        <option value="3">Transaction</option>
                        <option value="4" disabled>Acquirement</option>
                        <option value="5" disabled>Locked</option>
                        <option value="6">Obfuscated</option>
                    </select>
                    
                    <!--
                        // Get the select box element
                        var select = document.getElementById("blockType");

                        // Get the option element you want to toggle
                        var option = select.options[0];

                        // Toggle the disabled property
                        option.disabled = !option.disabled;

                    -->
                    <br>
                    <textarea style="background-color: #36393e; color: #d7d7d7;" placeholder="Enter Block Data" id="blockData"></textarea>
                    
                    <br><br>
                    <div class="submitbox">
                        <input style="height: 50px; width: 100px; font-size: larger;" id="submit" type="button" value="Mint">
                    </div>
                </form>
            </div>
            <div style="float: right; width: 50%; flex: auto;">
                <span style="font-size: 75px;" class="material-symbols-outlined">
                    <a title="Go to Area" class="phasedYel" href="${ledger_area}">grid_view</a>
                </span>
            </div>
                
            </blockquote>
            <div id="bounceLoader" style="display: none; float: inherit;" class="bouncing-loader"><div></div><div></div><div></div></div>

        </div>
        <script type="text/javascript">
            toggle('backToGrid')

            //jQuery POST request to /mint/
            $("#submit").click(function(){
                document.getElementById('bounceLoader').style.display = 'flex'
                $.ajax({
                    type: "POST",
                    url: "/mint/${ledger_position}",
                    data: {
                        blockType: $("#blockType").val(),
                        blockData: $("#blockData").val()
                    },
                    success: function(data){
                        document.getElementById('bounceLoader').style.display = 'none'
                        alert("Block minted successfully!");
                    },
                    error: function(data){
                        document.getElementById('bounceLoader').style.display = 'none'
                        alert("Block mint failed!");
                    }
                });
            });

        </script>
    </body>
</html>

